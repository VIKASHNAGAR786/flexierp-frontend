

  <h3 class="text-xl font-extrabold text-[#00ffee] mb-4 uppercase tracking-wide drop-shadow-md">
    Scan / Enter Barcode
  </h3>

  <!-- Barcode Input -->
  <div class="flex flex-col mb-4">
  <label class="mb-2 text-sm md:text-base font-extrabold text-[#00ffee] uppercase tracking-wide drop-shadow-md">
    Barcode
  </label>
  <input type="text" placeholder="Scan or Enter Barcode" [(ngModel)]="saleProduct.barcode" name="barcode"
    (keyup.enter)="onEnterBarcode()"
    class="w-full px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-slate-800 border 
           border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 
           focus:ring-green-500 focus:border-green-500 transition-all duration-200" />
</div>

  <!-- Open/Close Scanner Button -->
  <button type="button" (click)="scannerEnabled = !scannerEnabled"
    class="w-full md:w-auto bg-[#00ffee] text-black px-6 py-2 rounded font-bold hover:bg-white transition mb-4">
    {{ scannerEnabled ? 'Close Camera' : 'Open Camera Scanner' }}
  </button>

  <!-- Camera Selection & Scanner -->
  <div *ngIf="scannerEnabled" class="space-y-2">

    <!-- Camera Selector Dropdown -->
    <select (change)="onDeviceSelectChange($event)"
      class="w-full px-3 py-2 rounded-md bg-slate-700 text-white border border-gray-600 focus:outline-none">
      <option *ngFor="let device of availableDevices" [value]="device.deviceId">
        {{ device.label || 'Unknown Device' }}
      </option>
    </select>

    <!-- ZXing Scanner -->
  <div class="relative w-full h-80 rounded-lg overflow-hidden shadow-lg">
  <!-- ZXing Scanner -->
  <zxing-scanner
    [device]="selectedDevice"
    [formats]="formats"
    [tryHarder]="true"   
    (camerasFound)="availableDevices = $event"
    (scanSuccess)="onCodeResult($event)"
    [torch]="false"
    [autofocusEnabled]="true"
    class="w-full h-full"
  ></zxing-scanner>

  <!-- Overlay: Dark semi-transparent background -->
  <div class="absolute inset-0 bg-black/50 pointer-events-none"></div>

  <!-- Scanner Box -->
  <div class="absolute top-1/2 left-1/2 w-3/5 h-1/3 transform -translate-x-1/2 -translate-y-1/2 border-2 border-green-400 rounded-lg overflow-hidden">
    <!-- Scanning Line -->
    <div class="absolute top-0 left-0 w-full h-1 bg-green-400 animate-scan"></div>
  </div>
</div>


  </div>
  

