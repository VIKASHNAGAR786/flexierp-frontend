<div class="fixed top-0 left-0 right-0 h-16 backdrop-blur-md 
            bg-[var(--header-bg)] text-[var(--text)]
            z-40 shadow-lg flex items-center px-4 md:pl-72 
            border-b border-[var(--header-border)]">

  <!-- Actions -->
  <div class="flex items-center gap-4 ml-auto">

    <!-- Backup -->
    <button
      appTooltip="Backup Data"
      [tooltipFixed]="true"
      [tooltipPosition]="'bottom'"
      (click)="onBackup()"
      class="relative p-2 rounded-full 
             hover:bg-[var(--hover-bg)] transition 
             text-[var(--icon-color)]"
      >
      <i class="bi bi-cloud-arrow-up text-xl"></i>
    </button>

    <!-- Notes -->
    <button
      appTooltip="Notes"
      [tooltipFixed]="true"
      [tooltipPosition]="'bottom'"
      (click)="openNotes()"
      class="relative p-2 rounded-full 
             hover:bg-[var(--hover-bg)] transition 
             text-[var(--icon-color)]"
      >
      <i class="bi bi-journal-text text-xl"></i>
    </button>

    <!-- User Dropdown -->
    <div class="dropdown-wrapper relative" >

      <button
        (click)="toggleDropdown($event); $event.stopPropagation()"
  class="flex items-center gap-2 px-3 py-2 
         bg-[var(--hover-bg)] rounded-full 
         hover:bg-[var(--hover-bg-strong)] 
         transition border border-[var(--border)]
         shadow-sm"
        >

        <img
          src="assets/profile.png"
          alt="User"
          class="w-8 h-8 rounded-full shadow-md 
                    border border-[var(--icon-color)]"
          />

        <span class="hidden md:inline text-sm font-medium 
                     text-[var(--icon-color)]">
            {{ username }}
          </span>

          <i class="bi bi-chevron-down text-sm text-[var(--text-muted)]"></i>
        </button>

        <!-- Dropdown -->
        @if (isDropdownOpen) {
          <div
  class="absolute right-0 mt-2 w-56 dropdown-wrapper
   bg-[var(--card)] border border-[var(--border)]
   text-[var(--text)] rounded-lg shadow-xl
   transition duration-200 z-50 backdrop-blur-sm"
            (click)="$event.stopPropagation()"
            >
            <button
              (click)="openProfile()"
              class="dropdown-item"
              >
              <span class="icon">ğŸ‘¤</span> Profile
            </button>
            <button
              (click)="openSettings()"
              class="dropdown-item"
              >
              <span class="icon">âš™ï¸</span> Settings
            </button>
            <button
              (click)="openBankAccounts()"
              class="dropdown-item"
              >
              <span class="icon">ğŸ¦</span> My Bank Accounts
            </button>
            <button
              (click)="onLogout()"
              class="dropdown-item"
              >
              <span class="icon">ğŸ“¦</span> Logout
            </button>
          </div>
        }

      </div>
    </div>
  </div>